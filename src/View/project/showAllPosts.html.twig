{% extends 'layout.html.twig' %}

{% block content %} 
{% block subtitle %}<h1 class="text-center mt-3">Tous les posts</h1>{% endblock %} 
<div class="container">
    {% if session.id is not empty %}
        <a href="/post" class="btn btn-secondary">Créer un post</a>
        {% else %} 
        <a href="/connexion" class="btn btn-secondary">Créer un post</a>
    {% endif %}
    <div class="row">
        {% for post in posts %} 
            <div class="col-xl-4 col-md-6 col-sm-12 p-3">
                <div class="card mb-2 ">      
                    <img src="/public/images/uploads/{{ post.picture }}" class="card-img-top img-post p-1" alt="...">
                    <div class="card-body">
                        <h4 class="card-title text-center">{{ post.title }}</h4> 
                        <p class="card-text text-justify">{{ post.text }}</p> 
                        <p class="card-text text-end">{{ post.dateCreation | date("d/m/Y") }}</p>                        
                        <p class="card-text text-end">{{ post.username }}</p>
                        <p class="card-text text-center"><a href="/post/{{ post.id }}" class="btn btn-dark mb-2">Découvrir</a></p>
                        {% if post.dateUpdate is not empty %}
                            <p class="card-text mt-1 text-end">modifié le : {{ post.dateUpdate | date("d/m/Y") }}</p> 
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endfor %}   
    </div> 
</div>
{% endblock %}